---
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
	const posts = await getCollection('blog');
	return posts
		.filter((post) => post.id.startsWith('es/'))
		.map((post) => ({
			params: { slug: post.id.replace('es/', '') },
		}));
}

const { slug } = Astro.params;
return Astro.redirect(`/es/blog/${slug}`);
---
